#!/bin/bash

dims() {
	if [ $# -gt "1" ]
	then
		echo "Error" 1>&2
		return 1
	elif [ $# = "1" ] && [ ! -r $2 ]
	then
		echo "Error" 1>&2
		return 1
	else
		rows=$(wc -l $1)
		firstline=$(head -n 1 $1)
		cols=$(echo $firstline | wc -w ) # counts the number of words in the first line
		rows=$(echo $rows | cut -f 1 -d " ")  # cut cuts the first field (-f 1) from a list of fields delimited by the string " " (-d)
		printf "$rows $cols\n"
		return 0
	fi		 		
}

transpose() {
	dimension=$(cat dims $1)
	rows=$(cut -f 1 -d " ")
	cols=$(cut -f 2 -d " ")
	echo $rows
	if [ $# -gt "1" ]
	then
		echo "Error" 1>&2
		return 1
	elif [ $# = "1" ] && [ ! -r $2 ]
	then
		echo "Error" 1>&2
		return 1
	else
		# for 
		# do
		# 	cols=$(cut -f $1)
		# 	echo $cols
		# done
		echo hello
	fi
}

mean() {
	if [ $# -gt "1" ]
	then
		echo "Error 1" 1>&2
		return 1
	elif [ $# = "1" ] && [ ! -r $2 ]
	then
		echo "Error 2" 1>&2
		return 1
	else
		sum=0
		for i in $1
		do
			echo hellow
		done
		return 0
	fi
}

add() {
	
	echo "add"
}

multipy() {
	echo "multiply"
}


datafilepath="datafile$$"
if [ "$#" = "0" ]
then 
	echo "Error, no arguments were passed" 1>&2
	exit 1
elif [ $1 = "add" ] || [ $1 = "multiply" ]
then
	if [ $# = "3" ]
	then
		$1 $2 $3
	else
		echo "Error" 1>&2
		exit 1
	fi
elif [ $1 = "dims" ] || [ $1 = "transpose" ] || [ $1 = "mean" ]
then
	if [ $# = "2" ]
	then
		$1 $2
	elif [ $# = "1" ]
	then
		cat > "$datafilepath"
		$1 "$datafilepath"
	else
		echo "Error" 1>&2
		exit 1
	fi
else
	echo "Error, function does not exist: $1" 1>&2
	exit 1
fi	
